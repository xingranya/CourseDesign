# 基于AVL树的通讯录管理系统

## 项目简介

这是一个基于AVL平衡二叉搜索树实现的通讯录管理系统，使用Java语言开发。系统支持联系人的增删改查、前缀模糊查询、多种遍历方式，并能处理姓名重复的情况。

## 项目结构

```
CourseDesign/
├── src/
│   └── com/
│       └── addressbook/
│           ├── Main.java                      # 主程序入口
│           ├── model/                         # 数据模型层
│           │   ├── Contact.java              # 联系人实体类
│           │   └── BSTNode.java              # 二叉树节点类
│           ├── tree/                          # 数据结构层
│           │   └── AVLTree.java              # AVL树实现
│           └── service/                       # 业务逻辑层
│               └── AddressBookService.java   # 通讯录服务类
└── README.md                                  # 项目说明文档
```

## 功能特性

### 1. 基本功能
- ✅ **添加联系人**: 支持添加包含姓名、电话、邮箱、地址的联系人信息
- ✅ **删除联系人**: 支持删除指定联系人或删除所有同名联系人
- ✅ **修改联系人**: 支持更新联系人的电话、邮箱、地址信息
- ✅ **精确查找**: 根据姓名精确查找联系人
- ✅ **显示所有**: 按姓名排序显示所有联系人

### 2. 高级功能
- ✅ **前缀模糊查询**: 支持按姓名前缀查找（如输入"张"显示所有姓张的联系人）
- ✅ **处理重名**: 使用链表存储同名联系人，完美处理姓名重复情况
- ✅ **AVL树自动平衡**: 实现AVL树的左旋、右旋等平衡调整操作

### 3. 遍历功能
- ✅ **中序遍历**: 按姓名升序输出所有联系人
- ✅ **前序遍历**: 按前序方式输出所有联系人
- ✅ **后序遍历**: 按后序方式输出所有联系人

## 技术要点

### 数据结构
- **AVL平衡二叉搜索树**: 自动平衡，保证O(log n)的查询效率
- **链表**: 用于存储同名联系人，解决姓名重复问题
- **递归算法**: 实现树的插入、删除、查找和遍历操作

### 核心算法
1. **AVL树平衡调整**
   - 左左情况 (LL): 右旋转
   - 右右情况 (RR): 左旋转
   - 左右情况 (LR): 先左旋后右旋
   - 右左情况 (RL): 先右旋后左旋

2. **查找算法**
   - 精确查找: O(log n)
   - 前缀模糊查询: O(n)，遍历所有节点进行前缀匹配

3. **遍历算法**
   - 中序遍历: 左→根→右（升序输出）
   - 前序遍历: 根→左→右
   - 后序遍历: 左→右→根

## 编译和运行

### 编译项目

在项目根目录下打开命令行，执行：

```bash
# 编译所有Java文件
javac -encoding UTF-8 -d bin src/com/addressbook/*.java src/com/addressbook/model/*.java src/com/addressbook/tree/*.java src/com/addressbook/service/*.java
```

### 运行程序

```bash
# 运行主程序
java -cp bin com.addressbook.Main
```

或者直接使用IDE（如IntelliJ IDEA、Eclipse）导入项目运行。

## 使用说明

### 主菜单选项

程序启动后会自动加载测试数据，并显示主菜单：

```
┌──────────────────────────────────────┐
│              主菜单                  │
├──────────────────────────────────────┤
│  1. 添加联系人                       │
│  2. 删除联系人                       │
│  3. 修改联系人                       │
│  4. 精确查找联系人                   │
│  5. 前缀模糊查找                     │
│  6. 显示所有联系人                   │
│  7. 遍历操作（前中后序）             │
│  8. 运行完整功能测试                 │
│  0. 退出系统                         │
└──────────────────────────────────────┘
```

### 操作示例

#### 1. 添加联系人
选择菜单"1"，依次输入姓名、电话、邮箱、地址。

#### 2. 前缀模糊查找
选择菜单"5"，输入姓名前缀（如"张"），系统会显示所有姓张的联系人。

#### 3. 完整功能测试
选择菜单"8"，系统会自动运行所有功能的测试用例，展示系统的各项功能。

## 测试数据

系统预置了以下测试数据：

| 姓名 | 电话 | 邮箱 | 地址 |
|------|------|------|------|
| 张三 | 13800138001 | zhangsan@email.com | 北京市朝阳区 |
| 李四 | 13800138002 | lisi@email.com | 上海市浦东新区 |
| 王五 | 13800138003 | wangwu@email.com | 广州市天河区 |
| 赵六 | 13800138004 | zhaoliu@email.com | 深圳市南山区 |
| 张伟 | 13800138005 | zhangwei@email.com | 杭州市西湖区 |
| 张丽 | 13800138006 | zhangli@email.com | 成都市武侯区 |
| 张三 | 13900139001 | zhangsan2@email.com | 北京市海淀区（重名测试） |

## 代码规范

- 遵循PEP 8编码规范
- 所有类和方法都有详细的中文注释
- 使用有意义的变量名和函数名
- 合理的异常处理机制
- 清晰的分层架构设计

## 项目亮点

1. **完整的AVL树实现**: 包含自动平衡调整功能，保证树的高度平衡
2. **优雅的重名处理**: 使用链表存储同名联系人，而非简单拒绝或覆盖
3. **丰富的查询方式**: 支持精确查找和前缀模糊查询
4. **清晰的架构设计**: 分层明确，模型-服务-表现层分离
5. **完善的测试用例**: 提供自动化测试功能，验证所有核心功能

## 作者信息

- 课程设计题目4：基于二叉搜索树的通讯录管理系统
- 实现方式：AVL平衡二叉搜索树
- 开发语言：Java
- 开发时间：2025年

## 许可证

本项目仅用于课程设计学习交流使用。
