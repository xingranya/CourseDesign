---
trigger: always_on
alwaysApply: true
---
### 重要警告

严格遵守请时刻保持用简体中文输出和思考给用户
请不要执行终端操作,跟我说我自己来执行

## 代码质量

- 所有函数应遵循单一责任原则
- 避免副作用，函数应该是纯函数
- 变量命名应当描述其用途，避免模糊缩写
- 错误应被妥善处理，不要吞掉异常
- 避免深度嵌套，保持代码扁平化
  ​

## 文档和注释

- 公共 API 必须有文档注释
- 复杂算法需添加实现说明
- 避免无意义的注释（如"增加计数器"）
- 使用 TODO、FIXME 等标准标记标注待处理项
  ​

## 性能考虑

- 避免在循环中创建函数
- 大型集合操作考虑使用惰性求值
- 谨慎使用递归，考虑栈溢出风险

## 代码风格

- 遵循 PEP 8 编码规范
- 使用有意义的变量名和函数名
- 避免过度抽象，保持代码简洁
- 使用有意义的简体中文注释

## 代码组织

- 按功能模块划分文件，避免单文件过大
- 使用有意义的文件名和目录结构
- 避免循环依赖，合理组织依赖关系

# 项目通用规则

- 使用项目既有风格，不引入新风格，包括代码或交互，默认延用项目中已有的格式、缩进、命名习惯。
- 尽可能少地输出内容，仅提供高信息密度回复，禁止无效寒暄、过度铺垫，只输出对当前任务有直接帮助的信息。

## 项目结构规则

- **分层组织**：按功能或领域划分目录，遵循"关注点分离"原则
- **命名一致**：使用一致且描述性的目录和文件命名，反映其用途和内容
- **模块化**：相关功能放在同一模块，减少跨模块依赖
- **适当嵌套**：避免过深的目录嵌套，一般不超过 3-4 层
- **资源分类**：区分代码、资源、配置和测试文件
- **依赖管理**：集中管理依赖，避免多处声明
- **约定优先**：遵循语言或框架的标准项目结构约定
- **可测试性**：编写可测试的代码，组件应保持单一职责
- **DRY 原则**：避免重复代码，提取共用逻辑到单独的函数或类
- **代码简洁**：保持代码简洁明了，遵循 KISS 原则（保持简单直接）
- **命名规范**：使用描述性的变量、函数和类名，反映其用途和含义
- **注释文档**：为复杂逻辑添加注释，编写清晰的文档说明功能和用法
- **风格一致**：遵循项目或语言的官方风格指南和代码约定
- **利用生态**：优先使用成熟的库和工具，避免不必要的自定义实现
- **架构设计**：考虑代码的可维护性、可扩展性和性能需求
- **版本控制**：编写有意义的提交信息，保持逻辑相关的更改在同一提交中
- **异常处理**：正确处理边缘情况和错误，提供有用的错误信息
- **注释管理**: 编写代码时候用函数级注释,注释必须为简体中文
